(this.webpackJsonpsecrets=this.webpackJsonpsecrets||[]).push([[0],[,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(5),l=a.n(c),o=(a(11),a(1)),i=(a(12),a(2),function(e){var t=e.visible,a=e.closeHandler;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:t?"about-modal modal visible":"about-modal modal"},s.a.createElement("button",{className:"modal__close",onClick:function(){a(null)}},s.a.createElement("img",{"aria-label":"close",src:"assets/img/close.svg",width:"25px",alt:"close"})),s.a.createElement("div",{className:"modal__title"},"About Secrets"),s.a.createElement("div",{className:"modal__content"},s.a.createElement("p",null,"We all know that feeling of relief after sharing a long-kept secret with someone. A weight is lifted. What seemed like a terrible or embarrasing thing all of a sudden doesn't seem that important anymore. Sharing secrets with people brings us perspective. We're not only opening ourselves up to them, we're opening up to ourselves."),s.a.createElement("p",null,"The science ",s.a.createElement("a",{href:"https://psycnet.apa.org/record/2017-20428-001",target:"_blank",rel:"noopener noreferrer"}," has long been in ")," on the benefits of sharing secrets with others. Keeping secrets is a mental, emotional and physical burden. Our minds keep drifting and focussing on them. We are more anxious and adrenaline levels and blood pressure are above average."),s.a.createElement("p",null,"On the flip side, sharing secrets with others has a tremendous effect on us. Even if we're uncomfortable sharing with someone close to us, for fear of judgement, we ofter share our deepest secrets with people we're not close to, even complete strangers like a hairdresser or taxi driver. Sharing secrets forms bonds of trust, they strengthen social cohesion, even between strangers. Aside from benefiting us emotionally and physically, sharing secrets benefits our society as a hole."),s.a.createElement("p",null,"This page is meant as a platform for people to share their secrets with strangers, completely anonymously. Perhaps the person sitting next to you on the bus tomorrow will know and sympathize with something you haven't yet had the courage to face up to, and that is an encouraging thought."))),s.a.createElement("div",{className:"dimmer"}))}),m=(a(13),a(14),a(4),function(e){var t=e.clickHandler,a=Object(r.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:l?"nav__hamburger nav__hamburger--open":"nav__hamburger",onClick:function(){return i(!l)}},s.a.createElement("div",{className:"nav__hamburger__bar nav__hamburger__top-bar"}),s.a.createElement("div",{className:"nav__hamburger__bar nav__hamburger__middle-bar"}),s.a.createElement("div",{className:"nav__hamburger__bar nav__hamburger__bottom-bar"})),s.a.createElement("div",{className:l?"sidemenu sidemenu--visible":"sidemenu","will-change":!0},s.a.createElement("div",{className:"nav__links"},s.a.createElement("div",{className:"nav__link",onClick:function(){t(n.About),i(!l)}},"About"),s.a.createElement("div",{className:"nav__link",onClick:function(){t(n.Share),i(!l)}},"Share a secret"))),s.a.createElement("div",{className:l?"overlay overlay--visible":"overlay"}))}),u=function(e){var t=e.clickHandler,a=e.stickyNav,r=d()<=700?s.a.createElement(s.a.Fragment,null,s.a.createElement(m,{clickHandler:t})):s.a.createElement("div",{className:"nav__links"},s.a.createElement("div",{className:"nav__link",onClick:function(){return t(n.About)}},"About"),s.a.createElement("div",{className:"nav__link",onClick:function(){return t(n.Share)}},"Share a secret"));return s.a.createElement("nav",{className:a?"nav sticky-nav":"nav"},s.a.createElement("a",{href:"./",className:"nav__brand"},"Secrets."),r)},d=function(){var e=Object(r.useState)(window.innerWidth),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},h=["A month after being raped, I went and seduced my rapist.\n   I thought if it was my choice and I initiated the sex it\n   would make things better. It didn\u2019t.","My youth group is one of the things keeping me from killing myself.\n  I'm the youth pastor.","Last week when I was shopping, the lady ahead of me dropped a\n   $20 bill on the ground.  Instead of saying anything, I quickly\n   stepped on it and claimed it as my own."],f=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),l=Object(o.a)(c,2),i=l[0],m=l[1],u=Object(r.useState)(50),d=Object(o.a)(u,2),f=d[0],b=d[1],v=Object(r.useState)(0),g=Object(o.a)(v,2),p=g[0],_=g[1],E=h[p%h.length],k=function(){n(i?E.substring(0,a.length-1):E.substring(0,a.length+1)),b(i?20:"."===a[a.length-1]?400:40),i||a!==E||setTimeout((function(){return m(!0)}),1e3),i&&""===a&&(m(!1),_(p+1))};return Object(r.useEffect)((function(){var e=setTimeout(k,f);return function(){return clearInterval(e)}})),s.a.createElement("div",{className:"header__secret"}," ",a," ",s.a.createElement("span",{id:"cursor"}))},b=function(e){var t=e.clickHandler,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],l=n[1],i=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=Object(o.a)(e,1)[0];return l(!t.isIntersecting)}),{rootMargin:"0px",threshold:.9}),t=i.current;if(t)return e.observe(t),function(){return e.unobserve(t)}}),[]);var m={clickHandler:t,stickyNav:c};return s.a.createElement("header",{className:"header",ref:i},s.a.createElement(u,m),s.a.createElement("div",{className:"header__title"},"Share your secrets with the world."),s.a.createElement(f,null))},v=(a(15),a(16),function(e){var t,a=e.secretId,n=e.secret,c=e.date,l=e.likes;t=null!==localStorage.getItem(a.toString());var i=Object(r.useState)(t),m=Object(o.a)(i,2),u=m[0],d=m[1],h=Object(r.useState)(l),f=Object(o.a)(h,2),b=f[0],v=f[1],g=new Date(c).toString().split(" ").slice(1,4).join(" ");return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card__header"},s.a.createElement("div",{className:"card__date"},g),s.a.createElement("div",{className:"card__likes"},b,s.a.createElement("img",{alt:"like",className:u?"card__like liked":"card__like",src:"assets/img/like.svg",onClick:function(){var e={date_posted:c,likes:u?l-1:l+1,secret:n};fetch("https://secrets-backend.herokuapp.com/api/secret/"+a,{body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"}),method:"PUT"}),u?localStorage.removeItem(a.toString()):localStorage.setItem(a.toString(),"liked"),v(b+(u?-1:1)),d(!u)}}))),s.a.createElement("div",{className:"card__secret"},n))}),g=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(0),l=Object(o.a)(c,2),i=l[0],m=l[1],u=Object(r.useState)(!1),d=Object(o.a)(u,2),h=d[0],f=d[1],b=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=Object(o.a)(e,1)[0];return f(t.isIntersecting)}),{threshold:[0,.25,.75,1]}),t=b.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}}),[]),Object(r.useEffect)((function(){var e=new AbortController,t=e.signal;return fetch("https://secrets-backend.herokuapp.com/api/secrets/"+i,{signal:t}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return s.a.createElement(v,{key:e.id,secretId:e.id,secret:e.secret,date:e.date_posted,likes:e.likes})}))})).then((function(e){n(a.concat(e))})).catch((function(){})),m(i+1),function(){return e.abort()}}),[h]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"secrets"},a),s.a.createElement("div",{ref:b,className:"sentinel"}))},p=(a(17),function(e){var t=e.visible,a=e.closeHandler,n=Object(r.useState)(""),c=Object(o.a)(n,2),l=c[0],i=c[1],m=Object(r.useState)(!1),u=Object(o.a)(m,2),d=u[0],h=u[1];Object(r.useEffect)((function(){t&&h(!1)}),[t]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:t?"share-modal modal visible":"share-modal modal"},s.a.createElement("button",{className:"modal__close",onClick:function(){a(null),i("")}},s.a.createElement("img",{"aria-label":"close",src:"assets/img/close.svg",width:"25px",alt:"close"})),d?s.a.createElement("div",{className:"shareform__success"},s.a.createElement("img",{src:"/assets/img/icon--checkmark.svg",width:"50px",className:"shareform__success-icon",alt:"Submitted"}),"Thank you for sharing your secret! It should appear on the page shortly."):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal__title"},"Share a secret"),s.a.createElement("div",{className:"modal__content"},s.a.createElement("form",{onSubmit:function(e){var t=e.target.querySelector(".shareform__textarea").value,a={date_posted:new Date(Date.now()).toISOString(),likes:0,secret:t};fetch("https://secrets-backend.herokuapp.com/api/secrets",{body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"}),method:"POST"}),h(!0),e.preventDefault()},className:"shareform"},s.a.createElement("textarea",{onChange:function(e){i(e.target.value)},value:l,className:"shareform__textarea",placeholder:"Share your secret."}),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"shareform__button shareform__clear",onClick:function(){return i("")}}," Clear "),s.a.createElement("input",{type:"submit",value:"Share",className:"shareform__button shareform__submit"})))))),s.a.createElement("div",{className:"dimmer"}))});!function(e){e[e.About=0]="About",e[e.Share=1]="Share"}(n||(n={}));var _=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=function(e){c(e)},m={clickHandler:l};return s.a.createElement("div",{className:"App"},s.a.createElement(b,m),s.a.createElement("main",{className:"main"},s.a.createElement(g,null)),s.a.createElement(i,{visible:a===n.About,closeHandler:l}),s.a.createElement(p,{visible:a===n.Share,closeHandler:l}),s.a.createElement("footer",{className:"footer"},s.a.createElement("p",null,"Created by",s.a.createElement("a",{href:"https://www.samroelants.com",target:"_blank",rel:"noopener noreferrer"},"\xa0Sam Roelants"))))};l.a.render(s.a.createElement(_,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.ee496271.chunk.js.map